{% extends 'student_template/base_template.html' %}

{% block page_title %}
    Update Profile
{% endblock page_title %}

{% block main_content %}

{% load static %}

<section class="p-6 bg-gray-100">
    <div class="container mx-auto">

        <div class="max-w-2xl mx-auto">
            <!-- Profile Update Form -->
            <div class="bg-white shadow-md rounded-lg p-6">
                <h3 class="text-xl font-bold mb-4">Update Profile</h3>

                <form method="POST" action="{% url 'student_profile_update' %}">
                    {% csrf_token %}

                    {% comment %} Display Messages {% endcomment %}
                    {% if messages %}
                    <div class="mb-4">
                        {% for message in messages %}
                        {% if message.tags == "error" %}
                        <div class="bg-red-200 text-red-700 border border-red-500 rounded px-4 py-2 mb-2" role="alert">
                            {{ message }}
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        {% elif message.tags == "success" %}
                        <div class="bg-green-200 text-green-700 border border-green-500 rounded px-4 py-2 mb-2" role="alert">
                            {{ message }}
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        {% endif %}
                        {% endfor %}
                    </div>
                    {% endif %}

                    <div class="mb-4">
                        <label class="block text-gray-700">Username</label>
                        <input type="text" class="form-control mt-1 block w-full p-2 border border-gray-300 rounded" name="username" value="{{ user.username }}" disabled="disabled">
                    </div>

                    <div class="mb-4">
                        <label class="block text-gray-700">Email</label>
                        <input type="text" class="form-control mt-1 block w-full p-2 border border-gray-300 rounded" name="email" value="{{ user.email }}" disabled="disabled">
                    </div>

                    <div class="mb-4">
                        <label class="block text-gray-700">First Name</label>
                        <input type="text" class="form-control mt-1 block w-full p-2 border border-gray-300 rounded" name="first_name" value="{{ user.first_name }}">
                    </div>

                    <div class="mb-4">
                        <label class="block text-gray-700">Last Name</label>
                        <input type="text" class="form-control mt-1 block w-full p-2 border border-gray-300 rounded" name="last_name" value="{{ user.last_name }}">
                    </div>

                    <div class="mb-4">
                        <label class="block text-gray-700">Address</label>
                        <textarea name="address" class="form-control mt-1 block w-full p-2 border border-gray-300 rounded" rows="5">{{ student.address }}</textarea>
                    </div>

                    <div class="mb-4">
                        <label class="block text-gray-700">Password</label>
                        <input type="password" class="form-control mt-1 block w-full p-2 border border-gray-300 rounded" name="password" placeholder="Fill only if you want to change Password.">
                    </div>

                    <div>
                        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Update Profile</button>
                    </div>
                </form>
            </div>
            <!-- /.Profile Update Form -->

        </div>
    </div><!-- /.container -->
</section>

{% endblock main_content %}
